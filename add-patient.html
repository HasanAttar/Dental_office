<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Add Patient</title>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
  <style>
    body {
      background-color: #f4f6f9;
    }

    .sidebar {
      height: 100vh;
      position: fixed;
      top: 0;
      left: 0;
      width: 200px;
      background-color: #007bff;
      color: white;
      padding: 20px;
    }

    .sidebar h2 {
      color: white;
    }

    .sidebar ul {
      list-style-type: none;
      padding: 0;
    }

    .sidebar ul li {
      margin: 15px 0;
    }

    .sidebar ul li a {
      color: white;
      text-decoration: none;
    }

    .container {
      margin-left: 220px;
    }

    .form-container {
      max-width: 800px;
      margin: 20px auto;
      padding: 20px;
      background-color: #ffffff;
      border-radius: 8px;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
    }

    .form-container h2 {
      margin-bottom: 20px;
      text-align: center;
    }

    .form-group {
      margin-bottom: 20px;
    }

    .teeth-map {
      position: relative;
      display: inline-block;
    }

    .teeth-map img {
      width: 100%;
      max-width: 600px;
      height: auto;
      display: block;
      margin: 0 auto;
      position: relative;
    }

    .teeth-map .highlight {
      position: absolute;
      border: 2px solid blue;
      background-color: rgba(0, 0, 255, 0.3);
      pointer-events: none;
    }

    .highlight-yellow {
      background-color: rgba(255, 255, 0, 0.5);
    }

    #selectedTeeth {
      margin-top: 10px;
      font-size: 1.1rem;
      font-weight: bold;
    }

    .note-block {
      display: none;
      margin-top: 10px;
    }
  </style>
</head>

<body>
  <div class="sidebar">
    <h2>Menu</h2>
    <ul>
      <li><a href="#" id="calendarLink">Calendar</a></li>
      <li><a href="#" id="appointmentLink">Appointments</a></li>
      <li><a href="#" id="patientListLink">Patient List</a></li>
    </ul>
  </div>
  <div class="container">
    <div class="form-container">
      <h2>Add Patient</h2>
      <form id="addPatientForm">
        <div class="form-group">
          <label for="patientName">Name</label>
          <input type="text" class="form-control" id="patientName" required>
        </div>
        <div class="form-group">
          <label for="patientAge">Age</label>
          <input type="number" class="form-control" id="patientAge" required>
        </div>
        <div class="form-group">
          <label for="patientContact">Contact</label>
          <input type="text" class="form-control" id="patientContact" required>
        </div>
        <div class="form-group">
          <label for="patientTeeth">Select Teeth</label>
          <div class="teeth-map">
            <img src="teeth1.jpg" usemap="#teethmap" id="teethImage">
            <map name="teethmap">
              <area target="" alt="1" title="1" href="" coords="98,129,60,81" shape="rect" data-tooth="1">
              <area target="" alt="2" title="2" href="" coords="104,78,134,132" shape="rect" data-tooth="2">
              <area target="" alt="3" title="3" href="" coords="141,70,178,139" shape="rect" data-tooth="3">
              <area target="" alt="4" title="4" href="" coords="184,67,208,139" shape="rect" data-tooth="4">
              <area target="" alt="5" title="5" href="" coords="213,62,236,139" shape="rect" data-tooth="5">
              <area target="" alt="6" title="6" href="" coords="240,55,261,141" shape="rect" data-tooth="6">
              <area target="" alt="7" title="7" href="" coords="265,57,286,140" shape="rect" data-tooth="7">
              <area target="" alt="8" title="8" href="" coords="289,58,313,141" shape="rect" data-tooth="8">
              <area target="" alt="9" title="9" href="" coords="316,57,339,139" shape="rect" data-tooth="9">
              <area target="" alt="10" title="10" href="" coords="342,60,363,140" shape="rect" data-tooth="10">
              <area target="" alt="11" title="11" href="" coords="366,53,388,142" shape="rect" data-tooth="11">
              <area target="" alt="12" title="12" href="" coords="392,60,413,140" shape="rect" data-tooth="12">
              <area target="" alt="13" title="13" href="" coords="418,67,444,140" shape="rect" data-tooth="13">
              <area target="" alt="14" title="14" href="" coords="449,69,482,143" shape="rect" data-tooth="14">
              <area target="" alt="15" title="15" href="" coords="490,72,523,141" shape="rect" data-tooth="15">
              <area target="" alt="16" title="16" href="" coords="528,71,565,142" shape="rect" data-tooth="16">
              <area target="" alt="17" title="17" href="" coords="566,220,527,154" shape="rect" data-tooth="17">
              <area target="" alt="18" title="18" href="" coords="485,154,521,224" shape="rect" data-tooth="18">
              <area target="" alt="19" title="19" href="" coords="447,154,480,229" shape="rect" data-tooth="19">
              <area target="" alt="20" title="20" href="" coords="416,155,441,231" shape="rect" data-tooth="20">
              <area target="" alt="21" title="21" href="" coords="388,154,412,232" shape="rect" data-tooth="21">
              <area target="" alt="22" title="22" href="" coords="360,153,383,231" shape="rect" data-tooth="22">
              <area target="" alt="23" title="23" href="" coords="336,154,356,229" shape="rect" data-tooth="23">
              <area target="" alt="24" title="24" href="" coords="314,155,332,228" shape="rect" data-tooth="24">
              <area target="" alt="25" title="25" href="" coords="290,154,308,229" shape="rect" data-tooth="25">
              <area target="" alt="26" title="26" href="" coords="268,149,285,229" shape="rect" data-tooth="26">
              <area target="" alt="27" title="27" href="" coords="240,151,262,231" shape="rect" data-tooth="27">
              <area target="" alt="28" title="28" href="" coords="209,148,236,232" shape="rect" data-tooth="28">
              <area target="" alt="29" title="29" href="" coords="180,147,205,231" shape="rect" data-tooth="29">
              <area target="" alt="30" title="30" href="" coords="145,148,177,226" shape="rect" data-tooth="30">
              <area target="" alt="31" title="31" href="" coords="102,159,130,226" shape="rect" data-tooth="31">
              <area target="" alt="32" title="32" href="" coords="62,162,97,222" shape="rect" data-tooth="32">
            </map>
          </div>
          <div id="selectedTeeth"></div>
        </div>
        <button type="submit" class="btn btn-primary">Submit</button>
      </form>
    </div>
  </div>

  <div class="modal" tabindex="-1" role="dialog" id="noteModal">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">Add Note</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <textarea class="form-control" id="noteInput" rows="3"></textarea>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-primary" id="saveNote">Save changes</button>
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>

  <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.bundle.min.js"></script>
  <script>
    $(document).ready(function () {
      const selectedTeeth = [];

      $('#addPatientForm').on('submit', function (e) {
        e.preventDefault();
        // Handle form submission
        alert('Form submitted');
      });

      $('area').on('click', function (e) {
        e.preventDefault();
        const tooth = $(this).data('tooth');
        const index = selectedTeeth.indexOf(tooth);
        if (index === -1) {
          selectedTeeth.push(tooth);
          $(this).addClass('highlight');
        } else {
          selectedTeeth.splice(index, 1);
          $(this).removeClass('highlight');
        }
        $('#selectedTeeth').text(`Selected teeth: ${selectedTeeth.join(', ')}`);
      });

      $('#appointmentLink').on('click', function () {
        window.location.href = 'new_appointment.html';
      });

      $('#patientListLink').on('click', function () {
        window.location.href = 'view-patient.html';
      });

      $('#calendarLink').on('click', function () {
        window.location.href = 'index.html';
      });

      let selectedToothForNote = null;

      $('#saveNote').on('click', function () {
        const note = $('#noteInput').val();
        if (selectedToothForNote && note) {
          $(`area[data-tooth=${selectedToothForNote}]`).data('note', note);
          $('#noteModal').modal('hide');
        }
      });

      $('area').on('dblclick', function (e) {
        e.preventDefault();
        selectedToothForNote = $(this).data('tooth');
        const existingNote = $(this).data('note') || '';
        $('#noteInput').val(existingNote);
        $('#noteModal').modal('show');
      });
    });
  </script>
</body>

</html>
